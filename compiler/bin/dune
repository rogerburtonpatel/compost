
(rule
 (target scanner.ml)
 (deps scanner.mll)
 (action
  (chdir
   %{workspace_root}
   (run %{bin:ocamllex} -q -o %{target} %{deps}))))

(menhir
  (modules parser))

(env
 (dev
  (flags
   (:standard -warn-error -A))))

(executable
 (public_name compost)
 (name compost)
 (libraries compost))

;; drives scanning/parsing
; (test
;  (name mytest)
;  (modules mytest)
; )

; (executable 
;  (public_name mytest)
;  (name mytest)
;  (modules mytest)
;  (libraries toplevel))


;; drives scanning/parsing
;(executable 
; (public_name toplevel)
; (name toplevel)
; (modules toplevel)
; (libraries toplevel))
